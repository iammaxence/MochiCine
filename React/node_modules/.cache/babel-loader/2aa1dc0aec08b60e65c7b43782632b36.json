{"ast":null,"code":"var _jsxFileName = \"/home/maxlamenace/PC3R/mochicine/src/Login.js\";\nimport React from 'react';\nimport './Login.css';\nimport axios from 'axios';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.sendregister = () => {\n      this.props.getRegisterPage();\n    };\n\n    this.sendaccueil = () => {\n      this.props.getAccueilPage();\n    };\n\n    this.requestCreateUser = () => {\n      console.log(\"createUser : \" + this.login.current.value + \" ; \" + this.mdp.current.value);\n      const url = new URLSearchParams();\n      url.append(\"login\", this.login.current.value);\n      url.append(\"mdp\", this.mdp.current.value);\n      axios.get(\"http://localhost:8080/MochiCine/User/Login?\" + url).then(res => this.result(res));\n    };\n\n    this.login = React.createRef();\n    this.mdp = React.createRef();\n    this.sendregister = this.sendregister.bind(this);\n    this.sendaccueil = this.sendaccueil.bind(this);\n    this.requestCreateUser = this.requestCreateUser.bind(this);\n  }\n\n  result(rep) {\n    console.log(rep);\n\n    if (rep.data[\"code\"]) {\n      this.setState({\n        statut: \"error\",\n        textError: rep.data[\"message\"]\n      });\n      window.confirm(this.state.textError);\n    } else {\n      console.log(\"createUser : OK\");\n      this.props.setLogin(this.login.current.value);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container h-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center h-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user_card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-center\",\n      onClick: this.sendaccueil,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }\n    }, \"MochiCine\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center form_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-append\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 76\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"login\",\n      className: \"form-control input_user\",\n      placeholder: \"login\",\n      ref: this.login,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-append\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-key\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 76\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"\",\n      className: \"form-control input_pass\",\n      placeholder: \"password\",\n      ref: this.mdp,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center mt-3 login_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-dark\",\n      onClick: this.requestCreateUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 37\n      }\n    }, \"Login\"), \"\\xA0 \\xA0\", /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-dark\",\n      type: \"button\",\n      onClick: this.sendregister,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 37\n      }\n    }, \"Register\")))))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/maxlamenace/PC3R/mochicine/src/Login.js"],"names":["React","axios","Login","Component","constructor","props","sendregister","getRegisterPage","sendaccueil","getAccueilPage","requestCreateUser","console","log","login","current","value","mdp","url","URLSearchParams","append","get","then","res","result","createRef","bind","rep","data","setState","statut","textError","window","confirm","state","setLogin","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,aAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,KAAN,SAAoBF,KAAK,CAACG,SAA1B,CAAoC;AAChCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SAUlBC,YAVkB,GAUH,MAAM;AACjB,WAAKD,KAAL,CAAWE,eAAX;AACH,KAZiB;;AAAA,SAclBC,WAdkB,GAcJ,MAAM;AAChB,WAAKH,KAAL,CAAWI,cAAX;AACH,KAhBiB;;AAAA,SAmBlBC,iBAnBkB,GAmBE,MAAM;AACtBC,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAkB,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,KAArC,GAA4C,KAA5C,GAAoD,KAAKC,GAAL,CAASF,OAAT,CAAiBC,KAAjF;AACA,YAAME,GAAG,GAAE,IAAIC,eAAJ,EAAX;AACAD,MAAAA,GAAG,CAACE,MAAJ,CAAW,OAAX,EAAoB,KAAKN,KAAL,CAAWC,OAAX,CAAmBC,KAAvC;AACAE,MAAAA,GAAG,CAACE,MAAJ,CAAW,KAAX,EAAkB,KAAKH,GAAL,CAASF,OAAT,CAAiBC,KAAnC;AACAd,MAAAA,KAAK,CAACmB,GAAN,CAAU,gDAA8CH,GAAxD,EAA6DI,IAA7D,CAAkEC,GAAG,IAAG,KAAKC,MAAL,CAAYD,GAAZ,CAAxE;AACH,KAzBiB;;AAEd,SAAKT,KAAL,GAAab,KAAK,CAACwB,SAAN,EAAb;AACA,SAAKR,GAAL,GAAWhB,KAAK,CAACwB,SAAN,EAAX;AAEA,SAAKlB,YAAL,GAAoB,KAAKA,YAAL,CAAkBmB,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKjB,WAAL,GAAmB,KAAKA,WAAL,CAAiBiB,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKf,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBe,IAAvB,CAA4B,IAA5B,CAAzB;AACH;;AAmBDF,EAAAA,MAAM,CAACG,GAAD,EAAK;AACPf,IAAAA,OAAO,CAACC,GAAR,CAAYc,GAAZ;;AACA,QAAGA,GAAG,CAACC,IAAJ,CAAS,MAAT,CAAH,EAAoB;AAChB,WAAKC,QAAL,CAAe;AAACC,QAAAA,MAAM,EAAE,OAAT;AAAkBC,QAAAA,SAAS,EAAEJ,GAAG,CAACC,IAAJ,CAAS,SAAT;AAA7B,OAAf;AACAI,MAAAA,MAAM,CAACC,OAAP,CAAe,KAAKC,KAAL,CAAWH,SAA1B;AACH,KAHD,MAGK;AACDnB,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,WAAKP,KAAL,CAAW6B,QAAX,CAAoB,KAAKrB,KAAL,CAAWC,OAAX,CAAmBC,KAAvC;AACH;AACJ;;AAGDoB,EAAAA,MAAM,GAAE;AACF,wBACE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,qCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAI,MAAA,SAAS,EAAC,aAAd;AAA4B,MAAA,OAAO,EAAE,KAAK3B,WAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,eAEI;AAAK,MAAA,SAAS,EAAC,8CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAmC;AAAG,MAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAnC,CADJ,CADJ,eAII;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,OAAxB;AAAgC,MAAA,SAAS,EAAC,yBAA1C;AAAoE,MAAA,WAAW,EAAC,OAAhF;AAAwF,MAAA,GAAG,EAAE,KAAKK,KAAlG;AAAyG,MAAA,QAAQ,MAAjH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CADJ,eAOI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAmC;AAAG,MAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAnC,CADJ,CADJ,eAII;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,IAAI,EAAC,EAA5B;AAA+B,MAAA,SAAS,EAAC,yBAAzC;AAAmE,MAAA,WAAW,EAAC,UAA/E;AAA0F,MAAA,GAAG,EAAE,KAAKG,GAApG;AAAyG,MAAA,QAAQ,MAAjH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CAPJ,eAaI;AAAK,MAAA,SAAS,EAAC,oDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,cAAhC;AAA+C,MAAA,OAAO,EAAE,KAAKN,iBAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,4BAGI;AAAQ,MAAA,SAAS,EAAC,sBAAlB;AAAyC,MAAA,IAAI,EAAC,QAA9C;AAAuD,MAAA,OAAO,EAAE,KAAKJ,YAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,CAbJ,CADJ,CAFJ,CADJ,CADJ,CADF;AA8BL;;AAvE+B;;AAyEpC,eAAeJ,KAAf","sourcesContent":["import React from 'react';\nimport './Login.css';\nimport axios from 'axios';\n\nclass Login extends React.Component {\n    constructor(props){\n        super(props);\n        this.login = React.createRef();\n        this.mdp = React.createRef();\n\n        this.sendregister = this.sendregister.bind(this);\n        this.sendaccueil = this.sendaccueil.bind(this);\n        this.requestCreateUser = this.requestCreateUser.bind(this);\n    }\n\n    sendregister = () => {\n        this.props.getRegisterPage();\n    }\n\n    sendaccueil = () => {\n        this.props.getAccueilPage();\n    }\n\n\n    requestCreateUser = () => {\n        console.log(\"createUser : \" + this.login.current.value +\" ; \" + this.mdp.current.value);\n        const url= new URLSearchParams();\n        url.append(\"login\", this.login.current.value);\n        url.append(\"mdp\", this.mdp.current.value);\n        axios.get(\"http://localhost:8080/MochiCine/User/Login?\"+url).then(res=> this.result(res));\n    }\n\n    result(rep){\n        console.log(rep);\n        if(rep.data[\"code\"]){\n            this.setState ({statut: \"error\", textError: rep.data[\"message\"]});\n            window.confirm(this.state.textError);\n        }else{\n            console.log(\"createUser : OK\");\n            this.props.setLogin(this.login.current.value);\n        }\n    }\n\n\n    render(){\n          return(\n            <div className=\"container h-100\">\n                <div className=\"d-flex justify-content-center h-100\">\n                    <div className=\"user_card\">\n                        <h1 className=\"text-center\" onClick={this.sendaccueil} >MochiCine</h1>\n                        <div className=\"d-flex justify-content-center form_container\">\n                            <form>\n                                <div className=\"input-group mb-3\">\n                                    <div className=\"input-group-append\">\n                                        <span className=\"input-group-text\"><i className=\"fas fa-user\"></i></span>\n                                    </div>\n                                    <input type=\"text\" name=\"login\" className=\"form-control input_user\" placeholder=\"login\" ref={this.login} required/>\n                                </div>\n                                <div className=\"input-group mb-2\">\n                                    <div className=\"input-group-append\">\n                                        <span className=\"input-group-text\"><i className=\"fas fa-key\"></i></span>\n                                    </div>\n                                    <input type=\"password\" name=\"\" className=\"form-control input_pass\" placeholder=\"password\" ref={this.mdp} required/>\n                                </div>\n                                <div className=\"d-flex justify-content-center mt-3 login_container\">\n                                    <button type=\"button\" className=\"btn btn-dark\" onClick={this.requestCreateUser} >Login</button>\n                                    &nbsp; &nbsp;\n                                    <button className=\"btn btn-outline-dark\" type=\"button\" onClick={this.sendregister}>Register</button>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n          );\n    }\n}\nexport default Login\n\n\n\n            "]},"metadata":{},"sourceType":"module"}