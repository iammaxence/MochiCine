{"ast":null,"code":"var _jsxFileName = \"/home/maxlamenace/eclipse_work2/MochiCine/React/src/MainPage.js\";\nimport React from 'react';\nimport Accueil from './Accueil';\nimport Profil from './Profil';\nimport Login from './Login';\nimport DescriptionPage from './DescriptionPage';\nimport axios from 'axios';\nimport SearchPage from './SearchPage';\n\nclass MainPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pagecourante: \"Accueil\",\n      isConnected: false,\n      login: \"\"\n    }; //all the bind\n\n    this.setLogin = this.setLogin.bind(this);\n    this.setLogout = this.setLogout.bind(this);\n    this.getLoginPage = this.getLoginPage.bind(this);\n    this.getAccueilPage = this.getAccueilPage.bind(this);\n    this.getProfilPage = this.getProfilPage.bind(this);\n  }\n\n  setLogout() {\n    console.log(\"Logout : \" + this.state.login);\n\n    if (this.state.isConnected === true) {\n      const url = new URLSearchParams();\n      url.append(\"login\", this.state.login);\n      axios.get(\"http://localhost:8080/MochiCine/User/Logout?\" + url).then(res => this.result(res));\n    }\n  }\n\n  result(rep) {\n    console.log(rep.data);\n\n    if (rep.data[\"code\"]) {\n      this.setState({\n        statut: \"error\",\n        textError: rep.data[\"message\"]\n      });\n      window.confirm(this.state.textError);\n    } else {\n      console.log(\"result : OK\");\n      this.setState({\n        pagecourante: \"Accueil\",\n        login: \"\",\n        isConnected: false\n      });\n    }\n  }\n\n  setLogin(login) {\n    this.setState({\n      pagecourante: \"Profil\",\n      login: login,\n      isConnected: true\n    });\n  } //Envoie la page de login\n\n\n  getLoginPage() {\n    this.setState({\n      pagecourante: \"Login\"\n    });\n  } //Envoie la page d'accueil\n\n\n  getAccueilPage() {\n    this.setState({\n      pagecourante: \"Accueil\"\n    });\n  } //Envoie la page de profil\n\n\n  getProfilPage() {\n    this.setState({\n      pagecourante: \"Profil\"\n    });\n  }\n\n  getSearchPage() {\n    this.setState({\n      pagecourante: \"SearchPage\"\n    });\n  }\n\n  render() {\n    let page = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }\n    }, \"Page not found\"));\n\n    if (this.state.pagecourante === \"Profil\" && this.state.isConnected === true) {\n      page = /*#__PURE__*/React.createElement(Profil, {\n        isConnected: this.state.isConnected,\n        login: this.state.login,\n        getLoginPage: this.getLoginPage,\n        getProfilPage: this.getProfilPage,\n        getAccueilPage: this.getAccueilPage,\n        setLogout: this.setLogout,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 7\n        }\n      });\n    } else if (this.state.pagecourante === \"Accueil\") {\n      page = /*#__PURE__*/React.createElement(Accueil, {\n        isConnected: this.state.isConnected,\n        getLoginPage: this.getLoginPage,\n        getProfilPage: this.getProfilPage,\n        getAccueilPage: this.getAccueilPage,\n        setLogout: this.setLogout,\n        getSearchPage: this.getSearchPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 7\n        }\n      });\n    } else if (this.state.pagecourante === \"Login\") {\n      page = /*#__PURE__*/React.createElement(Login, {\n        setLogin: this.setLogin,\n        getAccueilPage: this.getAccueilPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 7\n        }\n      });\n    } else if (this.state.pagecourante === \"DescriptionPage\") {\n      page = /*#__PURE__*/React.createElement(DescriptionPage, {\n        isConnected: this.state.isConnected,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }\n      });\n    } else if (this.state.pagecourante === \"SearchPage\") {\n      page = /*#__PURE__*/React.createElement(SearchPage, {\n        isConnected: this.state.isConnected,\n        login: this.state.login,\n        getLoginPage: this.getLoginPage,\n        getProfilPage: this.getProfilPage,\n        getAccueilPage: this.getAccueilPage,\n        setLogout: this.setLogout,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }\n      });\n    }\n\n    return page;\n  }\n\n}\n\nexport default MainPage;","map":{"version":3,"sources":["/home/maxlamenace/eclipse_work2/MochiCine/React/src/MainPage.js"],"names":["React","Accueil","Profil","Login","DescriptionPage","axios","SearchPage","MainPage","Component","constructor","props","state","pagecourante","isConnected","login","setLogin","bind","setLogout","getLoginPage","getAccueilPage","getProfilPage","console","log","url","URLSearchParams","append","get","then","res","result","rep","data","setState","statut","textError","window","confirm","getSearchPage","render","page"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Accueil from './Accueil';\nimport Profil from './Profil';\nimport Login from './Login';\nimport DescriptionPage from './DescriptionPage';\nimport axios from 'axios';\nimport SearchPage from './SearchPage';\n\n\nclass MainPage extends React.Component {\n  constructor(props){\n    super(props);\n    this.state= {pagecourante: \"Accueil\", isConnected: false, login: \"\"};\n  \n    //all the bind\n    this.setLogin = this.setLogin.bind(this);\n    this.setLogout = this.setLogout.bind(this);\n    this.getLoginPage = this.getLoginPage.bind(this);\n    this.getAccueilPage = this.getAccueilPage.bind(this);\n    this.getProfilPage = this.getProfilPage.bind(this);\n    \n  }\n\n  setLogout(){\n    console.log(\"Logout : \" + this.state.login);\n    if(this.state.isConnected === true ){\n      const url= new URLSearchParams();\n      url.append(\"login\", this.state.login);\n      axios.get(\"http://localhost:8080/MochiCine/User/Logout?\"+url).then(res=> this.result(res));\n    }\n  }\n\n  result(rep){\n    console.log(rep.data);\n    if(rep.data[\"code\"]){\n        this.setState ({statut: \"error\", textError: rep.data[\"message\"]});\n        window.confirm(this.state.textError);\n    }else{\n        console.log(\"result : OK\");\n        this.setState({pagecourante: \"Accueil\", login: \"\", isConnected: false});\n    }\n  }\n\n  setLogin(login){\n    this.setState({pagecourante: \"Profil\", login:login, isConnected: true});\n  }\n\n  //Envoie la page de login\n  getLoginPage(){\n    this.setState({pagecourante: \"Login\"});\n  }\n\n  //Envoie la page d'accueil\n  getAccueilPage(){\n    this.setState({pagecourante: \"Accueil\"});\n  }\n\n  //Envoie la page de profil\n  getProfilPage(){\n    this.setState({pagecourante: \"Profil\"});\n  }\n  \n  getSearchPage(){\n    this.setState({pagecourante: \"SearchPage\"});\n  }\n\n\n\n  render(){\n    let page = <div><h2>Page not found</h2></div> ;  \n\n    if(this.state.pagecourante === \"Profil\" && this.state.isConnected === true){\n      page = \n      <Profil \n        isConnected={this.state.isConnected} \n        login={this.state.login}\n        getLoginPage={this.getLoginPage}\n        getProfilPage={this.getProfilPage}\n        getAccueilPage={this.getAccueilPage} \n        setLogout={this.setLogout}/>;\n\n\n    }else if(this.state.pagecourante === \"Accueil\"){\n      page = \n      <Accueil \n        isConnected={this.state.isConnected}\n        getLoginPage={this.getLoginPage}\n        getProfilPage={this.getProfilPage}\n        getAccueilPage={this.getAccueilPage} \n        setLogout={this.setLogout}\n        getSearchPage={this.getSearchPage}/> ;\n\n\n    }else if(this.state.pagecourante === \"Login\"){\n      page = \n      <Login \n        setLogin={this.setLogin}  \n        getAccueilPage={this.getAccueilPage}/>;\n\n\n    }else if(this.state.pagecourante === \"DescriptionPage\"){\n      page = \n        <DescriptionPage  isConnected={this.state.isConnected} />;\n    }\n    else if(this.state.pagecourante === \"SearchPage\"){\n      page=\n        <SearchPage\n          isConnected={this.state.isConnected} \n          login={this.state.login}\n          getLoginPage={this.getLoginPage}\n          getProfilPage={this.getProfilPage}\n          getAccueilPage={this.getAccueilPage} \n          setLogout={this.setLogout} />\n    }\n\n    return(page);\n  }\n\n}\n\n\nexport default MainPage;\n"]},"metadata":{},"sourceType":"module"}