{"ast":null,"code":"var _jsxFileName = \"/home/neko/git/MochiCine/React/src/ListComponent.js\";\nimport React from 'react';\nimport axios from \"axios\";\n\nclass ListComponent extends React.Component {\n  constructor(props) {\n    super(props); //login, pagecourante\n\n    this.state = {\n      items: [],\n      taille: 0\n    };\n  }\n\n  componentDidMount() {\n    // Recupere les Favoris de l'utilisateur \n    if (this.props.pagecourante === \"Profil\") {\n      const url = new URLSearchParams();\n      url.append('login', this.props.login);\n      axios.get('http://localhost:8080/MochiCine/Favoris/List?' + url).then(response => this.lister(response));\n    } else if (this.props.pagecourante === \"Accueil\") {\n      //Recupere les films et series populaires en ce moment (actualité ou top 10)\n      let list = [{\n        id: 'a',\n        title: 'film1',\n        picture: 'film1.png'\n      }, {\n        id: 'b',\n        title: 'film2',\n        picture: 'film2.png'\n      }];\n      this.setState({\n        items: list,\n        taille: 2\n      });\n    }\n  }\n\n  lister(rep) {\n    if (rep.data[\"code\"]) {\n      this.setState({\n        statut: \"error\",\n        textError: rep.data[\"message\"]\n      });\n      window.confirm(this.state.textError);\n    } else {//this.setState({items: rep.data[\"message_profil\"]});\n      //this.setState({taille : this.state.messages.length})\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ListComponent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"list-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }\n    }, this.state.items.map(item => /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-group-item list-group-item-dark\",\n      key: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 29\n      }\n    }, item.title), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 29\n      }\n    }, \"picture\")))));\n  }\n\n}\n\nexport default ListComponent;","map":{"version":3,"sources":["/home/neko/git/MochiCine/React/src/ListComponent.js"],"names":["React","axios","ListComponent","Component","constructor","props","state","items","taille","componentDidMount","pagecourante","url","URLSearchParams","append","login","get","then","response","lister","list","id","title","picture","setState","rep","data","statut","textError","window","confirm","render","map","item"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,aAAN,SAA4BF,KAAK,CAACG,SAAlC,CAA4C;AACxCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN,EADc,CACA;;AACd,SAAKC,KAAL,GAAY;AAACC,MAAAA,KAAK,EAAE,EAAR;AAAYC,MAAAA,MAAM,EAAE;AAApB,KAAZ;AAEH;;AAEDC,EAAAA,iBAAiB,GAAE;AACf;AACA,QAAG,KAAKJ,KAAL,CAAWK,YAAX,KAA4B,QAA/B,EAAwC;AACpC,YAAMC,GAAG,GAAG,IAAIC,eAAJ,EAAZ;AACAD,MAAAA,GAAG,CAACE,MAAJ,CAAW,OAAX,EAAoB,KAAKR,KAAL,CAAWS,KAA/B;AACAb,MAAAA,KAAK,CAACc,GAAN,CAAU,kDAAgDJ,GAA1D,EAA+DK,IAA/D,CAAoEC,QAAQ,IAAI,KAAKC,MAAL,CAAYD,QAAZ,CAAhF;AACH,KAJD,MAIM,IAAG,KAAKZ,KAAL,CAAWK,YAAX,KAA4B,SAA/B,EAAyC;AAC3C;AAEA,UAAIS,IAAI,GAAG,CAAC;AAACC,QAAAA,EAAE,EAAE,GAAL;AAAUC,QAAAA,KAAK,EAAC,OAAhB;AAAyBC,QAAAA,OAAO,EAAC;AAAjC,OAAD,EAAgD;AAACF,QAAAA,EAAE,EAAE,GAAL;AAAUC,QAAAA,KAAK,EAAC,OAAhB;AAAyBC,QAAAA,OAAO,EAAC;AAAjC,OAAhD,CAAX;AACA,WAAKC,QAAL,CAAc;AAAChB,QAAAA,KAAK,EAAEY,IAAR;AAAcX,QAAAA,MAAM,EAAE;AAAtB,OAAd;AACH;AACJ;;AAEDU,EAAAA,MAAM,CAACM,GAAD,EAAK;AACP,QAAGA,GAAG,CAACC,IAAJ,CAAS,MAAT,CAAH,EAAoB;AAChB,WAAKF,QAAL,CAAe;AAACG,QAAAA,MAAM,EAAE,OAAT;AAAkBC,QAAAA,SAAS,EAAEH,GAAG,CAACC,IAAJ,CAAS,SAAT;AAA7B,OAAf;AACAG,MAAAA,MAAM,CAACC,OAAP,CAAe,KAAKvB,KAAL,CAAWqB,SAA1B;AACH,KAHD,MAGK,CAED;AACA;AAGH;AACJ;;AAGDG,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAI,MAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKxB,KAAL,CAAWC,KAAX,CAAiBwB,GAAjB,CAAsBC,IAAI,iBACvB;AAAI,MAAA,SAAS,EAAC,sCAAd;AAAqD,MAAA,GAAG,EAAIA,IAAI,CAACZ,EAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMY,IAAI,CAACX,KAAX,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFJ,CADH,CADL,CADJ,CADJ;AAYH;;AAhDuC;;AAsD5C,eAAenB,aAAf","sourcesContent":["import React from 'react';\nimport axios from \"axios\";\n\nclass ListComponent extends React.Component {\n    constructor(props){\n        super(props); //login, pagecourante\n        this.state ={items: [], taille: 0};\n\n    }\n\n    componentDidMount(){\n        // Recupere les Favoris de l'utilisateur \n        if(this.props.pagecourante === \"Profil\"){\n            const url = new URLSearchParams();\n            url.append('login', this.props.login);\n            axios.get('http://localhost:8080/MochiCine/Favoris/List?'+url).then(response => this.lister(response));\n        }else if(this.props.pagecourante === \"Accueil\"){\n            //Recupere les films et series populaires en ce moment (actualité ou top 10)\n            \n            let list = [{id: 'a', title:'film1', picture:'film1.png'}, {id: 'b', title:'film2', picture:'film2.png'}]\n            this.setState({items: list, taille: 2});\n        }\n    }\n\n    lister(rep){\n        if(rep.data[\"code\"]){\n            this.setState ({statut: \"error\", textError: rep.data[\"message\"]});\n            window.confirm(this.state.textError);\n        }else{\n\n            //this.setState({items: rep.data[\"message_profil\"]});\n            //this.setState({taille : this.state.messages.length})\n\n\n        } \n    }\n\n\n    render(){\n        return(\n            <div className=\"ListComponent\">\n                <ul className=\"list-group\">\n                    {this.state.items.map( item => (\n                        <li className=\"list-group-item list-group-item-dark\" key = {item.id}>\n                            <div>{item.title}</div>\n                            <div>picture</div>\n                        </li>\n                    ))}\n                </ul>\n            </div>\n        );\n    }\n\n\n\n}\n\nexport default ListComponent;"]},"metadata":{},"sourceType":"module"}