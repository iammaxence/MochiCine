{"ast":null,"code":"var _jsxFileName = \"/home/neko/git/MochiCine/React/src/Login.js\";\nimport React from 'react';\nimport './Login.css';\nimport axios from 'axios';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.requestRegister = () => {\n      console.log(\"createUser : \" + this.login.current.value + \" ; \" + this.mdp.current.value);\n      /** appel en POST au SERVER */\n      //const test ={ login: this.login.current.value, mdp: this.mdp.current.value }\n\n      let mylogin = this.login.current.value;\n      let mymdp = this.mdp.current.value;\n      const url = new URLSearchParams();\n      url.append('login', mylogin);\n      url.append('mdp', mymdp);\n      axios.post(\"http://localhost:8080/MochiCine/Register\", url).then(res => this.result(res));\n    };\n\n    this.sendaccueil = () => {\n      this.props.getAccueilPage();\n    };\n\n    this.requestLogin = () => {\n      console.log(\"Login : \" + this.login.current.value + \" ; \" + this.mdp.current.value);\n      const url = new URLSearchParams();\n      url.append(\"login\", this.login.current.value);\n      url.append(\"mdp\", this.mdp.current.value);\n      axios.get(\"http://localhost:8080/MochiCine/User/Login?\" + url).then(res => this.result(res));\n    };\n\n    this.login = React.createRef();\n    this.mdp = React.createRef();\n    this.requestRegister = this.requestRegister.bind(this);\n    this.sendaccueil = this.sendaccueil.bind(this);\n    this.requestLogin = this.requestLogin.bind(this);\n    this.result = this.result.bind(this);\n  }\n\n  result(rep) {\n    console.log(rep.data);\n\n    if (rep.data[\"code\"]) {\n      this.setState({\n        statut: \"error\",\n        textError: rep.data[\"message\"]\n      });\n      window.confirm(this.state.textError);\n    } else {\n      console.log(\"result : OK\");\n      this.props.setLogin(this.login.current.value);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"PageLogin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center h-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user_card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-center text-light\",\n      onClick: this.sendaccueil,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }, \"MochiCine\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center form_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      method: \"POST\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-append\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 76\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"login\",\n      className: \"form-control input_user\",\n      placeholder: \"login\",\n      ref: this.login,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-append\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-key\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 76\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"\",\n      className: \"form-control input_pass\",\n      placeholder: \"password\",\n      ref: this.mdp,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center mt-3 login_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-dark\",\n      onClick: this.requestLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 37\n      }\n    }, \"Login\"), \"\\xA0 \\xA0\", /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-dark\",\n      type: \"button\",\n      onClick: this.requestRegister,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 37\n      }\n    }, \"Register\"))))))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/neko/git/MochiCine/React/src/Login.js"],"names":["React","axios","Login","Component","constructor","props","requestRegister","console","log","login","current","value","mdp","mylogin","mymdp","url","URLSearchParams","append","post","then","res","result","sendaccueil","getAccueilPage","requestLogin","get","createRef","bind","rep","data","setState","statut","textError","window","confirm","state","setLogin","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Login.css';\nimport axios from 'axios';\n\nclass Login extends React.Component {\n    constructor(props){\n        super(props);\n        this.login = React.createRef();\n        this.mdp = React.createRef();\n\n        this.requestRegister = this.requestRegister.bind(this);\n        this.sendaccueil = this.sendaccueil.bind(this);\n        this.requestLogin = this.requestLogin.bind(this);\n        this.result = this.result.bind(this);\n    }\n\n    requestRegister = () => {\n        console.log(\"createUser : \" + this.login.current.value +\" ; \" + this.mdp.current.value);\n        /** appel en POST au SERVER */\n        //const test ={ login: this.login.current.value, mdp: this.mdp.current.value }\n        \n        let mylogin = this.login.current.value\n       \n        let mymdp = this.mdp.current.value\n       \n\n        const url = new URLSearchParams();\n        url.append('login',mylogin);\n        url.append('mdp',mymdp);\n        axios.post(\"http://localhost:8080/MochiCine/Register\", url).then(res=> this.result(res));\n    }\n\n    sendaccueil = () => {\n        this.props.getAccueilPage();\n    }\n\n\n    requestLogin = () => {\n        console.log(\"Login : \" + this.login.current.value +\" ; \" + this.mdp.current.value);\n        const url= new URLSearchParams();\n        url.append(\"login\", this.login.current.value);\n        url.append(\"mdp\", this.mdp.current.value);\n        axios.get(\"http://localhost:8080/MochiCine/User/Login?\"+url).then(res=> this.result(res));\n    }\n\n    result(rep){\n        console.log(rep.data);\n        if(rep.data[\"code\"]){\n            this.setState ({statut: \"error\", textError: rep.data[\"message\"]});\n            window.confirm(this.state.textError);\n        }else{\n            console.log(\"result : OK\");\n            this.props.setLogin(this.login.current.value);\n        }\n    }\n\n\n    render(){\n          return(\n            <div className=\"PageLogin\">\n            <div className=\"container\">\n                <div className=\"d-flex justify-content-center h-100\">\n                    <div className=\"user_card\">\n                        <h1 className=\"text-center text-light\" onClick={this.sendaccueil} >MochiCine</h1>\n                        <div className=\"d-flex justify-content-center form_container\">\n                            <form method=\"POST\">\n                                <div className=\"input-group mb-3\">\n                                    <div className=\"input-group-append\">\n                                        <span className=\"input-group-text\"><i className=\"fas fa-user\"></i></span>\n                                    </div>\n                                    <input type=\"text\" name=\"login\" className=\"form-control input_user\" placeholder=\"login\" ref={this.login} required/>\n                                </div>\n                                <div className=\"input-group mb-2\">\n                                    <div className=\"input-group-append\">\n                                        <span className=\"input-group-text\"><i className=\"fas fa-key\"></i></span>\n                                    </div>\n                                    <input type=\"password\" name=\"\" className=\"form-control input_pass\" placeholder=\"password\" ref={this.mdp} required/>\n                                </div>\n                                <div className=\"d-flex justify-content-center mt-3 login_container\">\n                                    <button type=\"button\" className=\"btn btn-dark\" onClick={this.requestLogin} >Login</button>\n                                    &nbsp; &nbsp;\n                                    <button className=\"btn btn-outline-dark\" type=\"button\" onClick={this.requestRegister}>Register</button>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            </div>\n          );\n    }\n}\nexport default Login\n\n\n\n            "]},"metadata":{},"sourceType":"module"}